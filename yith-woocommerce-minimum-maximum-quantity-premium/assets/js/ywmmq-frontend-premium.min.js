jQuery(function(i){function a(a,t){var n=i(".ywmmq-rules-wrapper"),r=i(".variations_form ");return r.is(".processing")?!1:(r.addClass("processing"),r.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),i.ajax({type:"POST",url:ywmmq.ajax_url,data:{action:"ywmmq_get_rules",product_id:a,variation_id:t},success:function(a){"success"==a.status?(n.html(a.rules),0!=a.limits.max?i('.single_variation_wrap .quantity input[name="quantity"]').attr("max",a.limits.max):i('.single_variation_wrap .quantity input[name="quantity"]').removeAttr("max"),0!=a.limits.min?i('.single_variation_wrap .quantity input[name="quantity"]').attr("min",a.limits.min).val(a.limits.min):i('.single_variation_wrap .quantity input[name="quantity"]').attr("min",1).val(1),0!=a.limits.step?i('.single_variation_wrap .quantity input[name="quantity"]').attr("step",a.limits.step):i('.single_variation_wrap .quantity input[name="quantity"]').attr("step",1).val(1),i(document).trigger("ywmmq_additional_operations",[a.limits.min])):n.html(),r.removeClass("processing").unblock()},dataType:"json"}),!1)}ywmmq.variations&&(i(document).init(function(i){var t=parseInt(i('.single_variation_wrap .product_id, .single_variation_wrap input[name="product_id"]').val()),n=parseInt(i('.single_variation_wrap .variation_id, .single_variation_wrap input[name="variation_id"]').val());isNaN(t)||isNaN(n)||a(t,n)}),i(document).on("woocommerce_variation_has_changed",function(){var t=parseInt(i('.single_variation_wrap .product_id, .single_variation_wrap input[name="product_id"]').val()),n=parseInt(i('.single_variation_wrap .variation_id, .single_variation_wrap input[name="variation_id"]').val());isNaN(t)||isNaN(n)||a(t,n)}))});